<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checklist Vehículos Blindados</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    .header { background-color: #343a40; color: white; padding: 20px 0; border-radius: 5px; margin-bottom: 20px; text-align: center; }
    .card { box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); border: none; margin-bottom: 20px; }
    .card-header { background-color: #007bff; color: white; font-weight: bold; }
    .btn-zone { margin: 5px; min-width: 80px; }
    .activity-item { background-color: #ffffff; padding: 15px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #dee2e6; }
    .activity-text { font-weight: 500; margin-bottom: 10px; }
    .option-btn { min-width: 60px; margin: 3px; border-radius: 20px; }
    .option-btn.active { background-color: #0d6efd; color: white; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>CHECKLIST DE ENTREGA FINAL</h1>
      <h2>Vehículo Blindado</h2>
    </div>

    <!-- Zona y Subzona -->
    <div class="card">
      <div class="card-header">Selecciona Zona y Subzona</div>
      <div class="card-body">
        <div class="mb-3">
          <label class="form-label">Zona:</label>
          <select id="zone-select" class="form-select">
            <option value="">Seleccionar Zona...</option>
            <option value="zona 1">Zona 1</option>
            <option value="zona 2">Zona 2</option>
            <option value="zona 3">Zona 3</option>
            <option value="zona 4">Zona 4</option>
            <option value="zona 5">Zona 5</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Subzona:</label>
          <select id="subzone-select" class="form-select">
            <option value="">Seleccionar Subzona...</option>
            <option value="EXTERIORES">EXTERIORES</option>
            <option value="INTERIORES">INTERIORES</option>
            <option value="FUNCIONAMIENTO ELÉCTRICO">FUNCIONAMIENTO ELÉCTRICO</option>
            <option value="PRUEBA DE CARRETERA">PRUEBA DE CARRETERA</option>
            <option value="PRUEBA DE AGUA">PRUEBA DE AGUA</option>
            <option value="INTERIORES CIELO">INTERIORES CIELO</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Checklist -->
    <div id="activities-container"></div>

    <script>
      const activitiesBySubzone = {
        "EXTERIORES": ["Puerta alineada", "Espejo sin daños"],
        "INTERIORES": ["Tablero limpio", "Asientos en buen estado"],
        "FUNCIONAMIENTO ELÉCTRICO": ["Luces encendidas", "A/C funcionando"],
        "PRUEBA DE CARRETERA": ["Ruidos en suspensión", "Estabilidad al conducir"],
        "PRUEBA DE AGUA": ["Filtraciones en puertas", "Filtraciones en quemacocos"],
        "INTERIORES CIELO": ["Techo limpio", "Sin manchas"]
      };

      const options = [
        { label: 'L1', value: 10 },
        { label: 'L2', value: 20 },
        { label: 'R1', value: 10 },
        { label: 'R2', value: 20 },
        { label: 'P1', value: 10 },
        { label: 'P2', value: 20 },
        { label: 'OK', value: 0 }
      ];

      const subzoneSelect = document.getElementById("subzone-select");
      const activitiesContainer = document.getElementById("activities-container");

      subzoneSelect.addEventListener("change", () => {
        const selected = subzoneSelect.value;
        activitiesContainer.innerHTML = "";
        if (!selected) return;

        const activities = activitiesBySubzone[selected] || [];
        activities.forEach((text, idx) => {
          const activityDiv = document.createElement("div");
          activityDiv.className = "activity-item";

          const title = document.createElement("div");
          title.className = "activity-text";
          title.textContent = `${idx + 1}. ${text}`;

          const buttonsContainer = document.createElement("div");
          options.forEach(opt => {
            const btn = document.createElement("button");
            btn.className = "btn btn-outline-primary option-btn";
            btn.textContent = opt.label;
            btn.dataset.value = opt.value;

            btn.addEventListener("click", (e) => {
              const siblings = e.target.parentElement.querySelectorAll(".option-btn");
              siblings.forEach(sib => sib.classList.remove("active"));
              e.target.classList.add("active");
            });

            buttonsContainer.appendChild(btn);
          });

          activityDiv.appendChild(title);
          activityDiv.appendChild(buttonsContainer);
          activitiesContainer.appendChild(activityDiv);
        });
      });
    </script>
</body>
</html>
